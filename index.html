<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Numeros Decimales</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
</head>
<body ng-app="uno">
	<div ng-controller="unico">
			
		<h1 style="text-align: center">De decimales a romanos</h1>
		<p style="text-align: center">
			funciona con los numeros del <strong>1</strong> al <strong>9999</strong>
			sin puntos ni comas, los numeros <span style="border-top:1px solid">V</span> y <span style="border-top:1px solid">X</span> fueron remplazados 
			por minusculas
		</p>
		<form style="width: 70%;margin: 0 auto">
			<label>Ingrese Un Numero</label>
			<input type="text" class="form-control" ng-model="decimal">
		</form>
		<div ng-show="decimal" style="text-align: center; font-size: 80px;font-weight: bold;">
			{{numeros(decimal)}}
		</div>
	</div>

	<script type="text/javascript" src="bower_components/angular/angular.js"></script>
	<script type="text/javascript">

		var app = angular.module('uno', []);
		app.controller('unico', ['$scope', function($scope){
			var numeroUno = 1;
			var romanosUnidades = ['I','II','III','IV','V','VI','VII','VIII','IX'];
			var romanosDecenas = ['X','XX','XXX','XL','L','LX','LXX','LXXX','XC'];
			var romanosCentenas = ['C','CC','CCC','CD','D','DC','DCC','DCCC','CM'];

			var unidadDeMil = ['M','MM','MMM','Mv','v','vM','vMM','vMMM','xM'];

			var numerosRomanos = [romanosUnidades,romanosDecenas,romanosCentenas,unidadDeMil];
			
			/* mira si es un numero */
			$scope.numeros = function (numero){
				numero = Math.abs(numero);
				numero = numero.toString();
				if(!isNaN(numero)){
					/* mira que numero es unidad, decena o centena */
					if(numero.length < 5){
						
						var numeroTemp = [];
						var numeroTemp2 = []

						for (var i = 0; i < numero.length; i++) {
							numeroTemp2.push(i);
						};
						numeroTemp2 = numeroTemp2.reverse(i);
						for (var i = 0; i < numero.length; i++) {
							numeroTemp.push((numerosRomanos[numeroTemp2[i]][numero[i]-numeroUno]== undefined )? '' : numerosRomanos[numeroTemp2[i]][numero[i]-numeroUno]);
						};

						return numeroTemp.join('');
					}

				}else{
					return 'Es necesario un numero';
				}
				
			}

		}])
	</script>
</body>
</html>